<!DOCTYPE html>
<html>
<body>
    <h2>Simulando 100 carros...</h2>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = { apiKey: "SUA_API", databaseURL: "SUA_URL", projectId: "SEU_ID" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function mover() {
            for(let i=1; i<=100; i++) {
                const lat = -23.5505 + (Math.random() * 0.02);
                const lng = -46.6333 + (Math.random() * 0.02);
                const vel = Math.floor(Math.random() * 100);
                
                const ref = db.ref(`prova/carros/carro_${i}`);
                ref.update({ id: i, lat, lng, velocidade: vel });
                // Salva no histórico para apuração posterior
                ref.child('historico').push({ lat, lng, vel, t: Date.now() });
            }
        }
        setInterval(mover, 3000);
    </script>
</body>
</html>
